<!DOCTYPE html>
<html xmlns:th="http://www.thymleaf.org/" lang="en">

<head th:replace="/admin/layouts/head :: head"></head>

<body class="hold-transition sidebar-mini dark-mode">
    <div class="wrapper">
        <nav th:replace="/admin/layouts/nav :: nav"></nav>
        <aside th:replace="/admin/layouts/aside :: aside"></aside>
        <!-- HEADER -->
        <div class="content-wrapper">
            <div class="content-header">
                <div class="container-fluid">
                    <div class="row mb-2">
                        <div class="col-sm-6">
                            <h1 class="m-0">INICIO</h1>
                        </div>
                        <div class="col-sm-6">
                            <ol class="breadcrumb float-sm-right">
                                <li class="breadcrumb-item"><a th:href="@{/admin}">Home</a></li>
                                <li class="breadcrumb-item"><a th:href="@{/admin/ventas}">Ventas</a></li>
                                <li class="breadcrumb-item active">Detalle de ventas</li>
                            </ol>
                        </div>
                    </div>
                </div>
            </div>
            <div th:replace="/admin/layouts/alerts :: alerts"></div>
            <div class="container mx-3">
                <div class="card shadow-lg ">
                    <div class="card-body">
                        <div style="display: flex; justify-content: space-around;">
                            <h1
                                class="text-dark text-center border border-dark border-top-0 border-left-0 border-right-0">
                                Detalles de venta</h1>
                        </div>
                    </div>
                </div>
                <div class="row mb-4">
                    <div class="col-sm-8">
                        <div class="card shadow-lg mb-4">
                            <div class="card-header">
                                <center>
                                    <h3>Datos de la venta</h3>
                                </center>
                            </div>
                            <div class="card-body">
                                <ul class="list-group">
                                    <li class="list-group-item" th:text="${'ID '+venta.id}"></li>
                                    <li class="list-group-item" th:text="${'Monto total: $'+venta.calcularTotal()}">
                                    </li>
                                    <li class="list-group-item"
                                        th:text="${'Realizada el: '+#calendars.format(venta.createdAt,'dd/MM/yyyy')}">
                                    </li>

                                </ul>
                            </div>
                        </div>
                        <div class="card shadow-lg ">
                            <div class="card-header">
                                <center>
                                    <h3>Productos Comprados</h3>
                                </center>
                            </div>
                            <div class="card-body">
                                <table class="table table-striped table-hover">
                                    <thead>
                                        <th>Id</th>
                                        <th>Tipo de huevo</th>
                                        <th>Cantidad</th>
                                        <th>Importe</th>
                                    </thead>
                                    <tbody>
                                        <tr th:each="linea : ${venta.lineas}">
                                            <td th:text="${linea.id}"></td>
                                            <td th:text="${linea.huevo.tipoHuevo}"></td>
                                            <td th:text="${linea.cantidad}"></td>
                                            <strong>
                                                <td th:text="${'$'+linea.calcularImporte()}"></td>
                                            </strong>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-4">
                        <div class="card shadow-lg">
                            <div class="card-header">
                                <center>
                                    <h3>Datos del comprador</h3>
                                </center>
                            </div>
                            <div class="card-body">
                                <ul class="list-group">
                                    <li class="list-group-item list-group-item-dark">
                                        <img class="card-img-top img-thumbnail rounded-circle shadow-lg"
                                            th:src="@{/img/usuario.png}" alt="">
                                    </li>
                                    <li class="list-group-item" th:text="${'Nombre:' +venta.comprador}"></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <aside th:replace="/admin/layouts/right-aside :: right-aside"></aside>

        <footer th:replace="/admin/layouts/footer :: footer"></footer>
        <div th:replace="admin/stocks/modal-delete :: modal"></div>

    </div>
</body>

</html>